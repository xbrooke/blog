import{_ as y,p as v,c as s,o as a,F as g,B as m,b,e as t,w,j as d,r as C,t as _,K as B,H as M,a0 as V}from"./framework.DcoBsTdY.js";const $={class:"grid-card-container"},I=["src","alt"],G={key:1,class:"grid-card-video-cover"},D=["src","alt"],F=["src","alt"],N={class:"grid-card-content"},S={class:"grid-card-title"},j={class:"grid-card-desc"},q={class:"grid-card-modal-inner"},x=["src"],A=["src"],E={__name:"GridCard",props:{items:{type:Array,required:!0,default:()=>[]}},setup(p){const i=v(-1),c=v(!1),n=v(-1);function k(o,r){if(o.video||o.webpage)c.value=!0,n.value=r;else if(o.link)return}function f(){c.value=!1,n.value=-1}function h(o){if(/bilibili.com\/video\//.test(o)){const r=o.match(/\/video\/(BV\w+)/);if(r&&r[1])return`https://player.bilibili.com/player.html?bvid=${r[1]}`}return o}return(o,r)=>(a(),s("div",$,[(a(!0),s(g,null,m(p.items,(e,l)=>(a(),s("div",{class:"grid-card",key:l},[(a(),b(M(e.link?"a":"div"),B({ref_for:!0},e.link?{href:e.link,target:e.target||"_blank",rel:"noopener noreferrer",class:"grid-card-link"}:{},{style:{display:"block","text-decoration":"none",color:"inherit",height:"100%"},onMousedown:u=>i.value=l,onMouseup:r[0]||(r[0]=u=>i.value=-1),onMouseleave:r[1]||(r[1]=u=>i.value=-1),class:{"active-blue":i.value===l},onClick:u=>k(e,l)}),{default:w(()=>[e.video?(a(),s(g,{key:0},[e.image?(a(),s("img",{key:0,src:e.image,class:"grid-card-image",alt:e.title||""},null,8,I)):t("",!0),!c.value||n.value!==l?(a(),s("div",G,r[2]||(r[2]=[d("div",{class:"grid-card-video-play"},null,-1)]))):t("",!0)],64)):e.webpage?(a(),s(g,{key:1},[e.image?(a(),s("img",{key:0,src:e.image,class:"grid-card-image",alt:e.title||""},null,8,D)):t("",!0)],64)):e.image?(a(),s("img",{key:2,src:e.image,class:"grid-card-image",alt:e.title||""},null,8,F)):t("",!0),d("div",N,[d("h3",S,_(e.title),1),d("p",j,_(e.desc),1),C(o.$slots,"footer",{item:e},void 0,!0)])]),_:2},1040,["onMousedown","class","onClick"])),c.value&&n.value===l?(a(),s("div",{key:0,class:"grid-card-modal",onClick:V(f,["self"])},[d("div",q,[e.video?(a(),s("iframe",{key:0,src:h(e.video),frameborder:"0",allowfullscreen:"",class:"grid-card-modal-iframe"},null,8,x)):e.webpage?(a(),s("iframe",{key:1,src:e.webpage,frameborder:"0",class:"grid-card-modal-iframe"},null,8,A)):t("",!0),d("span",{class:"grid-card-modal-close",onClick:f},"Ã—")])])):t("",!0)]))),128))]))}},K=y(E,[["__scopeId","data-v-f4e63dc6"]]);export{K as G};
